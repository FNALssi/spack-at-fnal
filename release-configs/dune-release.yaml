spack:
  config:
    deprecated: true
  include:
  # Toolchain defintion.
  # Defines the compiler (gcc or llvm/clang) and version.
  - path: gcc-12-toolchain.yaml

  # Packages defintions.
  # These are version and variant requirements for a package suite
  - path: larsoft-packages.yaml
  - path: nusofthep-packages.yaml
  - path: art-packages.yaml
  - path: fife-packages.yaml

  # DUNE packages
  - path: dune-packages.yaml

  # Spec definitions.
  # These are definitions of the root specs for a package suite
  - path: art-specs.yaml
  - path: nusofthep-specs.yaml
  - path: larsoft-specs.yaml
  - path: fife-specs.yaml
  - path: dune-specs.yaml

  specs:
    - $art_specs
    - $nusofthep_specs
    - $larsoft_specs
    - $fife_specs
    - $dune_specs
  upstreams:
    cvmfs-larsoft:
      install_tree: /cvmfs/larsoft.opensciencegrid.org/spack-fnal-v1.1.0/spack_env/opt/spack
  concretizer:
    unify: true
    reuse:
      from:
      - type: environment
        path: /cvmfs/larsoft.opensciencegrid.org/spack-fnal-v1.1.0/spack_env/var/spack/environments/larsoft-v10_11_01-unified-cuda-trimmed/
  packages:
    all:
      providers:
        libc:
        - glibc
        'zlib-api:':
        - zlib
      variants:
      - generator=ninja
      - build_type=Release
      - cxxstd=17
      target:
      - x86_64_v3
